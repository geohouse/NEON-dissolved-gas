---
title: "Dissolved Gases in Surface Water Translation"
author: "Marcela Rodriguez"
date: "7/20/2020"
output:
  html_document: default
  pdf_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r}
library(devtools)
setwd("~/NEON-dissolved-gas")
install("neonDissGas", upgrade = "never")
```

Initiation of Python
```{r}
library(reticulate)
use_python("~/venv/bin/python", required = TRUE)
```

Check if the version of Python you are using is the same as the Python the code was written (correct version: 3.7.7)
```{python}
import sys
print(sys.version)
```

R Script
Formatted Data Frame:
This data frame below is formatted by 'def.format.sdg.R' and will be used by both R and Python's blocks of code below. 
```{r }
library(neonUtilities)
sdgFormatted <- def.format.sdg(dataDir = "/Users/marcelarodriguez/PycharmProjects/NEON-DissolvedGas/NEON_dissolved-gases-surfacewater(1).zip")
sdgFormatted
```


Dissolved Gases' Concentration Data Frame
R Script:
This data frame adds 3 new columns: dissolvedCO2, dissolvedCH4, and dissolvedN2O.
```{r }
library(neonUtilities)
library(neonDissGas)
sdgDataPlusConc <- def.calc.sdg.conc(inputFile = sdgFormatted)
sdgDataPlusConc
```

TRANSLATION TO PYTHON: 

This data frame adds 3 new columns: dissolvedCO2, dissolvedCH4, and dissolvedN2O.
```{python}
import os
os.chdir('/Users/marcelarodriguez/PycharmProjects/NEON-DissolvedGas')
from def_calc_sdg_conc import def_calc_sdg_conc
import pandas

gasConcentration = def_calc_sdg_conc(inputFile=r.sdgFormatted)

```

```{r }
py$gasConcentration
```

Dissolved Gases' Saturation Data Frame
R Script:
This data frame adds 6 new columns: satConcCO2, satConcCH4, satConcN2O, CO2PercSat, CH4PercSat, and N2OPercSat.
```{r }
library(neonUtilities)
library(neonDissGas)
sdgDataPlusSat <- def.calc.sdg.sat(inputFile = sdgDataPlusConc)
sdgDataPlusSat
```

TRANSLATION TO PYTHON: 


```{python}
import os
os.chdir('/Users/marcelarodriguez/PycharmProjects/NEON-DissolvedGas')
#print(os.getcwd())

from def_calc_sdg_sat import def_calc_sdg_sat
import pandas

#sdgFormatted = (data_dir= '/Users/marcelarodriguez/PycharmProjects/NEON-DissolvedGas/NEON_dissolved-gases-surfacewater.zip')
gasSaturation = def_calc_sdg_sat(inputFile=gasConcentration)

```

```{r }
py$gasSaturation
```